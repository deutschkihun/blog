---
title: '컴퓨터 구조와 운영체제 (OS)'
date: '2022-04-19'
lastmod: '2022-04-19'
tags: ['OS']
draft: false
summary: 'OS 는 기술 인터뷰에서 지원자의 기본적인 컴퓨터 공학 지식을 확인하기 위해 자주 사용되는 주제중에 하나 입니다. 좀 더 자세하고 완벽한 인터뷰 준비를 위해서는 OS 관련 지식에 대해서 아는 것은 굉장히 중요하다고 생각합니다. 이번 포스팅을 통해 필자가 중요하다고 생각하는 OS 관련 배경지식에 대해서 알아보겠습니다.'
authors: ['default']
---

![tailwind-nextjs-banner](/static/os-basic/cover.jpg)

OS 는 기술 인터뷰에서 지원자의 기본적인 컴퓨터 공학 지식을 확인하기 위해 자주 사용되는 주제중에 하나 입니다. 좀 더 자세하고 완벽한 인터뷰 준비를 위해서는 OS 관련 지식에 대해서 아는 것은 굉장히 중요하다고 생각합니다. 이번 포스팅을 통해 필자가 중요하다고 생각하는 OS 관련 배경지식에 대해서 알아보겠습니다

## 1. 컴퓨터 구조

가장기본적인 컴퓨터 구조는 다음과 같다.

폰노이만 구조

CPU: ALU(수학적계산,산술연산),레지스터,캐시메모리

메모리: 저장공간

디스크: 저장소

I/O (키보드,마우스,모니터와 같은 입출력 장치)

감사합니다.

#### reference:

- [비전공자분들 위한 컴퓨터 전공 수업 10분으로 압축 (컴퓨터 구조 + 운영 체제)](https://www.youtube.com/watch?v=J06SirxZG7M)

- [Computer Architecture](https://gyoogle.dev/blog/computer-science/computer-architecture/%EC%A4%91%EC%95%99%EC%B2%98%EB%A6%AC%EC%9E%A5%EC%B9%98%20%EC%9E%91%EB%8F%99%20%EC%9B%90%EB%A6%AC.html)

## 1. 프로그램

어떤 작업을 하기 위해 실행하는 파일

## 2.프로세스

프로세스는 자원을 할당받아 프로그램이 실행되고 있는 상태 인스턴스이다.

![handshake](/static/os-basic/process.png)

- **텍스트(Text) 영역**
- **데이터(Data) 영역**

- **힙(Heap) 영역**: 사용자에 의해 공간이 동적으로 할당 및 해제되는 동적 메모리 할당 영역이다.

- **스택(Stack) 영역**: 정적 메모리 할당

### PCB

- PCB 는 특정 프로세스에 대한 중요한 정보를 저장 하고 있는 운영체제의 자료구조이다.
- 운영체제는 프로세스를 관리하기 위해 프로세스의 생성과 동시에 고유한 PCB 를 생성 한다.
- 프로세스는 CPU 를 할당받아 작업을 처리하다가도 프로세스 전환이 발생하면 진행하던 작업을 저장하고 CPU 를 반환해야 하는데, 이때 작업의 진행 상황을 모두 PCB 에 저장하게 된다.
- 그리고 다시 CPU 를 할당받게 되면 PCB 에 저장되어있던 내용을 불러와 이전에 종료됐던 시점부터 다시 작업을 수행한다.

### **PCB 에 저장되는 정보**

- 프로세스 식별자(Process ID, PID) : 프로세스 식별번호
- 프로세스 상태 : new, ready, running, waiting, terminated 등의 상태를 저장
- 프로그램 카운터 : 프로세스가 다음에 실행할 명령어의 주소
- CPU 레지스터
- CPU 스케쥴링 정보 : 프로세스의 우선순위, 스케줄 큐에 대한 포인터 등
- 메모리 관리 정보 : 페이지 테이블 또는 세그먼트 테이블 등과 같은 정보를 포함
- 입출력 상태 정보 : 프로세스에 할당된 입출력 장치들과 열린 파일 목록
- 어카운팅 정보 : 사용된 CPU 시간, 시간제한, 계정번호 등

## 3. 스레드

- 스레드는 프로세스의 실행 단위이다.
- 싱글 스레드는 한번에 하나의 콜스택 호출, 즉 한번에 하나의 작업만 수행
- 멀티 스레드는 한번에 여러개의 콜스택 호출, 즉 한번에 여러개의 작업 수행 -> 동일한 자원에 동시에 접근하는 일이 발생 할 수 있음 -> 동기화 필수

### **스택을 스레드마다 독립적으로 할당하는 이유**

독립적인 실행 흐름을 추가하기 위한 최소 조건으로 독립된 스택을 할당한다.

### **멀티 스레드 vs 멀티 프로세스**

- 멀티 스레드는 멀티 프로세스보다 적은 메모리 공간을 차지
- 멀티 스레드는 오류로 인해 하나의 스레드가 종료되면 전체 스레드가 종료될 수 있다는 점과 동기화 문제를 안고 있다.

- 멀티 프로세스는 하나의 프로세스가 죽더라도 다른 프로세스에는 영향을 끼치지 않고 정상적으로 수행가능
- 멀티 프로세스는 멀티 스레드보다 많은 메모리 공간 차지

## 4. 프로세스 Queue

RAM에 적재된 프로세스들의 순서를 관리해주는 Queue. 3가지 종류 존재.

- Job Queue : 현재 시스템 내에 있는 모든 프로세스의 집합
- Ready Queue : CPU 점유 순서를 기다리는 queue
- Device Queue : Device I/O 작업을 대기하고 있는 프로세스의 집합

**그리고 순서를 관리해주는 알고리즘을 스케줄링(Scheduling)이라고 한다.**

## 5. 스케줄링

## **장기스케줄러(Long-term scheduler or job scheduler)**

메모리와 디스크 사이의 스케줄링을 담당.메모리는 한정되어 있는데 많은 프로세스들이 한꺼번에 메모리에 올라올 경우, 대용량 메모리(일반적으로 디스크)에 임시로 저장된다. 이 pool 에 저장되어 있는 프로세스 중 어떤 프로세스에 메모리를 할당하여 ready queue 로 보낼지 결정하는 역할을 한다.

## **단기스케줄러(Short-term scheduler or CPU scheduler)**

CPU 와 메모리 사이의 스케줄링을 담당.
Ready Queue 에 존재하는 프로세스 중 어떤 프로세스를 작동 시킬지 결정.

## **중기스케줄러(Medium-term scheduler or Swapper)**

운영체제가 실행하는 동안 주기적으로 메인 메모리에 있는 전체 프로세스를 검사하여 보조기억장치로 옮길 프로세스를 찾아 옮긴다. 옮기는 기준은 여러가지 있겠지만 **대표적으로 장기간 사용하지 않는 프로세스가 있다.**

**이 기준으로 동작하는 것이 Swapping이다. 이는 메인 메모리에서 장시간 사용하지 않는 프로세스를 하드디스크로 옮겨주고(Swap out), 나중에 이 프로세스가 다시 사용되려고 하면 하드디스크에서 해당 프로세스를 다시 메인 메모리에 할당해준다.(Swap in)**

Swap out을 통해 메인 메모리의 공간이 생기므로 이를 더욱 효율적으로 사용할 수 있다. 만약 swap out된 프로세스가 다시 swap in으로 메인 메모리에 할당하려고 할 때 이전의 공간으로 할당되는 것을 보장하지는 않는다. 왜냐하면 위에 말했듯이 swap out으로 생긴 메모리 공간은 다른 프로세스가 사용할 수 있기 때문이다.

## 7.가상 메모리

가상메모리는 **프로세스 전체가 메모리 내에 올라오지 않더라도 실행이 가능하도록 하는 기법** 이며, 프로그램이 물리 메모리보다 커도 된다는 주요 장점이 있다.

#### 프로그램의 일부분만 메모리에 올릴 수 있다면...

- 물리 메모리 크기에 제약받지 않게 된다.
- 더 많은 프로그램을 동시에 실행할 수 있게 된다. 이에 따라 `응답시간`은 유지되고, `CPU 이용률`과 `처리율`은 높아진다.

## 8.캐시의 지역성

### 캐시의 지역성 원리

- 캐시 메모리는 속도가 빠른 장치와 느린 장치간의 속도차에 따른 병목 현상을 줄이기 위한 범용 메모리
- 이러한 역할을 수행하기 위해서는 CPU 가 어떤 데이터를 원할 것인가를 어느 정도 예측할 수 있어야 함.

- 이 때 예측의 `적중율(Hit rate)`을 극대화 시키기 위해 데이터 `지역성(Locality)의 원리`를 사용
- 즉, `지역성(Locality)`아란 기억 장치 내의 정보를 균일하게 Access 하는 것이 아닌 어느 한 순간에 특정 부분을 집중적으로 참조하는 특성

## 9. Race Condition

여러 개의 프로세스가 공통 자원을 동시 접근하여 읽거나, 쓰는 경우 어떤 순서로 접근했는지에 따라서 실행 결과가 달라지는 상황이다.

감사합니다.

#### reference

- [Interview_Question_for_Beginner](https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/OS#%ED%9)

- [프로세스와 스케줄링](https://velog.io/@xxhaileypark/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81)

- [세마포어(Semaphore) & 뮤텍스(Mutex)](<https://github.com/da-in/tech-interview-study/blob/main/Tech%20Interview%20Cheat%20Sheet/Operating%20System/%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4(Semaphore)%20%26%20%EB%AE%A4%ED%85%8D%EC%8A%A4(Mutex).md>)
